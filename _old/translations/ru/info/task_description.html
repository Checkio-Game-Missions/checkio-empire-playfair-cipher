<p>
    <a href="https://ru.wikipedia.org/wiki/%D0%A8%D0%B8%D1%84%D1%80_%D0%9F%D0%BB%D0%B5%D0%B9%D1%84%D0%B5%D1%80%D0%B0">Шифр Плейфера</a> 
    или квадрат Плейфера — ручная симметричная техника шифрования, в которой впервые использована замена биграмм. 
    Изобретена в 1854 году Чарльзом Уитстоном, но названа именем Лорда Лайона Плейфера, который внедрил данный шифр 
    в государственные службы Великобритании. В шифре Плейфера используется таблица 5х5, содержащая ключевое слово или фразу. 
    Знание ключевого слова и четырех простых правил достаточно для создания кодовой таблицы и работы с шифром. 
    В этом задании мы улучшим шифр и будем использовать кодовую таблицу 6х6.
</p>

<p>
    Для кодовой таблицы мы должны использовать символы ASCII в нижнем регистре ("abcdefghijklmnopqrstuvwxyz") 
    и цифры ("0123456789"), которые располагаются в следующем порядке
</p>
<pre>
    "abcdefghijklmnopqrstuvwxyz0123456789"

</pre>
<p>
    Для того, чтобы сформировать кодовую таблицу, необходимо заполнить ячейки сначала символами ключевой фразы (опуская повторы), 
    а потом оставшимися символами в порядке, который был приведен выше. 
    Ключ заполняет верхние строки таблицы слева направо. Ключевое слово и правила заполнения таблицы 6х6 определяют ключ шифра.
</p>
<p>
    Для шифрования сообщения нам необходимо его подготовить. Символы в верхнем регистре переводятся в нижний регистр, 
    текст сообщения разбивается на биграммы (группы из двух символов), при этом пробелы и знаки пунктуации опускаются. 
    Например, результатом преобразования "Hello World!" будет "he ll ow or ld", который может быть сопоставлен с ключевой таблицей. 
    Два символа биграммы образуют противоположные углы прямоугольника в ключевой таблице. 
    Определите взаимное расположение углов этого прямоугольника, после чего последовательно применяйте следующие четыре правила 
    к каждой паре символов в тексте:
</p>
<ul>
    <li>
        1. Если символы в биграмме одинаковы, добавить "x" после первого символа (для биграммы из двух "x" использовать "z") 
        и сдвинуть последующие биграммы. Если необходимо, добавить "z" к последней биграмме (или "x", если последняя буква "z"). 
        Например, "pp dr ..." становится "px pd r...", а "xx zz ..." - "xz xz z...".
    </li>
    <li>
        2. Если символы биграммы находятся в одной строке кодовой таблицы, замените их соответствующими символами, 
        следующими за ними справа (первым символом строки для символа, стоящего в правом конце строки). 
    </li>
    <li>
        3. Если символы находятся в одной колонке кодовой таблицы, замените их соответствующими символами, 
        следующими за ними снизу (первым символом колонки для символа, стоящего в нижнем конце строки).
    </li>
    <li>
        4. Если символы находятся в различных строках и колонках, замените каждый символом, находящимся в той же строке, 
        но из другого угла соответствующего прямоугольника. Порядок замены имеет значение - первый символ закодированной 
        биграммы  находится в той же строке, что и первый символ исходной биграммы.
    </li>


</ul>
<p>
    Для расшифровки используется обратный порядок применения последних трёх правил, 
    после чего вы получите обработанную версию исходного сообщения.
</p>

<p>
    Например, ключевым словом является "checkio101".  Тогда кодовая таблица будет выглядеть так
</p>

<pre>
c h e k i o
1 0 a b d f
g j l m n p
q r s t u v
w x y z 2 3
4 5 6 7 8 9

</pre>
<p>
    Пусть необходимо зашифровать сообщение "Fizz Buzz is x89 XX." 
    После предварительной подготовки мы получим "fi zx zb uz zi sx 89 xz xz".
    <br>
    - "fi" => "do";<br>
    - "zx" => "2y";<br>
    - "zb" => "7m";<br>
    - "uz" => "t2";<br>
    - "zi" => "2k";<br>
    - "sx" => "ry";<br>
    - "89" => "94";<br>
    - "xz" => "y2";<br>
    - "xz" => "y2".<br>
    И зашифрованное сообщение - "do2y7mt22kry94y2y2".
</p>

<p>
    Вы должны написать две функции - "encode" and "decode". 
    Каждая функция принимает сообщение (открытое или закодированное) и ключевое слово. 
    Функция "encode" обрабатывает и шифрует открытое сообщение. 
    Функция "decode" расшифровывает закодированное сообщение (конечно, до состояния предварительной подготовки).
</p>
<p>
    <strong>Входные данные: </strong> Два аргумента. Сообщение в виде строки (в юникоде) и ключевое слово в виде строки (в юникоде).
</p>

<p>
    <strong>Выходные данные: </strong> Закодированное или декодированное сообщение (в зависимости от функции).
</p>


<div class="for_info_only">
    <p>
        <strong>Пример:</strong>
    </p>
    <pre class="brush: python">
encode("Fizz Buzz is x89 XX.", "checkio101") == "do2y7mt22kry94y2y2"
decode("do2y7mt22kry94y2y2", "checkio101") == "fizxzbuzzisx89xzxz"
    </pre>
</div>

<p class="for_info_only">
    <strong>Как это используется: </strong>
    Это задание предоставит вам небольшую практику в работе с структурами данных и покажет как использовать позиционные шифры. 
    Также вы сможете использовать этот шифр, чтобы обезопасить свои данные от шпионского вторжения.
</p>

<p>
    <strong>Предусловия:</strong>
    0 &lt; len(key) &le; 36<br>

</p>

<p>
    <strong>Источник:</strong>
    <a href="https://ru.wikipedia.org/wiki/%D0%A8%D0%B8%D1%84%D1%80_%D0%9F%D0%BB%D0%B5%D0%B9%D1%84%D0%B5%D1%80%D0%B0">Wikipedia</a><br>
</p>
